<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta property="og:title" content="Value Object Only Domains"><meta property="og:description" content="Word on the street is value objects have been getting the short stick in DDD ORMS. That&rsquo;s too bad. Value objects should be first class citizens because like aggregates their role is to enforce invariants. e.g.
DateTime.Parse(&#34;NOPE&#34;) // <-- nope DateTime.TryParse(&#34;NOPE&#34;, out date) // <-- still nope What about something like an address? Is a part of your core domain &lsquo;validate this address?&rsquo; Or can you delegate to a generic domain, and implement with SmartyStreets or Melissa Data?"><meta property="og:type" content="article"><meta property="og:url" content="https://the.fringe.ninja/2013/10/09/value-object-only-domains/"><meta property="article:published_time" content="2013-10-09T23:12:28-07:00"><meta property="article:modified_time" content="2013-10-09T23:12:28-07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Value Object Only Domains"><meta name=twitter:description content="Word on the street is value objects have been getting the short stick in DDD ORMS. That&rsquo;s too bad. Value objects should be first class citizens because like aggregates their role is to enforce invariants. e.g.
DateTime.Parse(&#34;NOPE&#34;) // <-- nope DateTime.TryParse(&#34;NOPE&#34;, out date) // <-- still nope What about something like an address? Is a part of your core domain &lsquo;validate this address?&rsquo; Or can you delegate to a generic domain, and implement with SmartyStreets or Melissa Data?"><meta name=description content><link rel=canonical href=https://the.fringe.ninja/2013/10/09/value-object-only-domains/><title>Value Object Only Domains &#183; Ninja Snacks</title><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css><link href=https://the.fringe.ninja/css/style.css rel=stylesheet></head><body><nav class=white role=navigation><div class="row max-width"><div class="col s12 l10 offset-l1"><a href=# data-target=nav-mobile class="sidenav-trigger black-text"><i class=material-icons>menu</i></a><ul id=nav-mobile class=sidenav><li><a class=black-text href=/><i class="material-icons left">home</i>Home</a></li><li><a class=black-text href=/resume><i class="material-icons left">assignment</i>Resume</a></li></ul><a href=/ class="brand-logo grey-text text-darken-3">Ninja Snacks <small>- Tales from the Enterprise</small></a><div class=nav-wrapper><ul class="right hide-on-med-and-down"><li><a class=black-text href=/><i class="material-icons left">home</i>Home</a></li><li><a class=black-text href=/resume><i class="material-icons left">assignment</i>Resume</a></li></ul></div></div></div></nav><article class=max-width><header class=row><div class="col s12 m10 offset-m1 l10 offset-l1"><h1>Value Object Only Domains</h1><address>João P. Bragança</address><time datetime=2013-10-09>Wed, 09 Oct 2013 23:12</time></div></header><section class=row><div class="col s12 m10 offset-m1 l10 offset-l1"><p>Word on the street is value objects have been getting the short stick in <strong>DDD</strong> ORMS. That&rsquo;s too bad. Value objects should be first class citizens because like aggregates their role is to enforce invariants. e.g.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-csharp data-lang=csharp>DateTime.Parse(<span style=color:#e6db74>&#34;NOPE&#34;</span>) <span style=color:#75715e>// &lt;-- nope
</span><span style=color:#75715e></span>DateTime.TryParse(<span style=color:#e6db74>&#34;NOPE&#34;</span>, <span style=color:#66d9ef>out</span> date) <span style=color:#75715e>// &lt;-- still nope
</span></code></pre></div><p>What about something like an address? Is a part of your core domain &lsquo;validate this address?&rsquo; Or can you delegate to a generic domain, and implement with <a href=http://smartystreets.com>SmartyStreets</a> or <a href=http://www.melissadata.com/>Melissa Data</a>? These are economic decisions. I imagine you can present their price calculator and your own estimate to the man and see what she says.</p><p>I prefer the second option. Store your value object as a string and validate when you convert one to the other.</p><p>If the data storage mechanism is behind some poorly designed web servicey nonsense but still is pretty good at maintaining consistency, why model an aggregate on top? Systems like these force users to remember a sequence of manual steps, (sadly sometimes without validation) to &lsquo;make shit work.&rsquo; Do the validation yourself with a value object and pass it along to the other model.</p></div></section><footer class=row><div class="col s12 m10 offset-m1 l10 offset-l1"><p class=article-meta><a class=btn-small href=https://the.fringe.ninja/tags/random/>random</a>
<a class=btn-small href=https://the.fringe.ninja/tags/ddd/>ddd</a></p></div></footer></article><footer class="page-footer grey lighten-5"><div class="row max-width"><div class="col s12 l10 offset-l1 clear-padding"><div class=row></div></div></div><div class=footer-copyright><div class="row max-width" style=width:100%><div class="col s12 l10 offset-l1"><span class="grey-text text-darken-4"></span><div class=right></div></div></div></div></footer><script src=https://code.jquery.com/jquery-3.2.1.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js></script><script src=https://the.fringe.ninja/js/script.js></script></body></html>